# Comparing `tmp/odoo14_addon_ssi_product_line_price_mixin-14.0.1.3.0-py3-none-any.whl.zip` & `tmp/odoo14_addon_ssi_product_line_price_mixin-14.0.1.4.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,14 +1,14 @@
-Zip file size: 54714 bytes, number of entries: 12
--rw-r--r--  2.0 unx     1176 b- defN 23-Dec-30 14:51 odoo/addons/ssi_product_line_price_mixin/README.rst
--rw-r--r--  2.0 unx      181 b- defN 23-Dec-30 14:51 odoo/addons/ssi_product_line_price_mixin/__init__.py
--rw-r--r--  2.0 unx      547 b- defN 23-Dec-30 14:53 odoo/addons/ssi_product_line_price_mixin/__manifest__.py
--rw-r--r--  2.0 unx      349 b- defN 23-Dec-30 14:51 odoo/addons/ssi_product_line_price_mixin/menu.xml
--rw-r--r--  2.0 unx      199 b- defN 23-Dec-30 14:51 odoo/addons/ssi_product_line_price_mixin/models/__init__.py
--rw-r--r--  2.0 unx     2880 b- defN 23-Dec-30 14:51 odoo/addons/ssi_product_line_price_mixin/models/mixin_product_line_price.py
--rw-r--r--  2.0 unx    48333 b- defN 23-Dec-30 14:51 odoo/addons/ssi_product_line_price_mixin/static/description/icon.png
--rw-r--r--  2.0 unx     3678 b- defN 23-Dec-30 14:51 odoo/addons/ssi_product_line_price_mixin/views/mixin_product_line_mixin_views.xml
--rw-r--r--  2.0 unx     1743 b- defN 23-Dec-30 14:56 odoo14_addon_ssi_product_line_price_mixin-14.0.1.3.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Dec-30 14:56 odoo14_addon_ssi_product_line_price_mixin-14.0.1.3.0.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Dec-30 14:56 odoo14_addon_ssi_product_line_price_mixin-14.0.1.3.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1397 b- defN 23-Dec-30 14:56 odoo14_addon_ssi_product_line_price_mixin-14.0.1.3.0.dist-info/RECORD
-12 files, 60580 bytes uncompressed, 52230 bytes compressed:  13.8%
+Zip file size: 54929 bytes, number of entries: 12
+-rw-r--r--  2.0 unx     1176 b- defN 24-Apr-13 01:59 odoo/addons/ssi_product_line_price_mixin/README.rst
+-rw-r--r--  2.0 unx      181 b- defN 24-Apr-13 01:59 odoo/addons/ssi_product_line_price_mixin/__init__.py
+-rw-r--r--  2.0 unx      547 b- defN 24-Apr-13 02:00 odoo/addons/ssi_product_line_price_mixin/__manifest__.py
+-rw-r--r--  2.0 unx      349 b- defN 24-Apr-13 01:59 odoo/addons/ssi_product_line_price_mixin/menu.xml
+-rw-r--r--  2.0 unx      199 b- defN 24-Apr-13 01:59 odoo/addons/ssi_product_line_price_mixin/models/__init__.py
+-rw-r--r--  2.0 unx     5208 b- defN 24-Apr-13 01:59 odoo/addons/ssi_product_line_price_mixin/models/mixin_product_line_price.py
+-rw-r--r--  2.0 unx    48333 b- defN 24-Apr-13 01:59 odoo/addons/ssi_product_line_price_mixin/static/description/icon.png
+-rw-r--r--  2.0 unx     3678 b- defN 24-Apr-13 01:59 odoo/addons/ssi_product_line_price_mixin/views/mixin_product_line_mixin_views.xml
+-rw-r--r--  2.0 unx     1741 b- defN 24-Apr-13 02:00 odoo14_addon_ssi_product_line_price_mixin-14.0.1.4.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-13 02:00 odoo14_addon_ssi_product_line_price_mixin-14.0.1.4.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 24-Apr-13 02:00 odoo14_addon_ssi_product_line_price_mixin-14.0.1.4.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1397 b- defN 24-Apr-13 02:00 odoo14_addon_ssi_product_line_price_mixin-14.0.1.4.0.dist-info/RECORD
+12 files, 62906 bytes uncompressed, 52445 bytes compressed:  16.6%
```

## zipnote {}

```diff
@@ -18,20 +18,20 @@
 
 Filename: odoo/addons/ssi_product_line_price_mixin/static/description/icon.png
 Comment: 
 
 Filename: odoo/addons/ssi_product_line_price_mixin/views/mixin_product_line_mixin_views.xml
 Comment: 
 
-Filename: odoo14_addon_ssi_product_line_price_mixin-14.0.1.3.0.dist-info/METADATA
+Filename: odoo14_addon_ssi_product_line_price_mixin-14.0.1.4.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_ssi_product_line_price_mixin-14.0.1.3.0.dist-info/WHEEL
+Filename: odoo14_addon_ssi_product_line_price_mixin-14.0.1.4.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_ssi_product_line_price_mixin-14.0.1.3.0.dist-info/top_level.txt
+Filename: odoo14_addon_ssi_product_line_price_mixin-14.0.1.4.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_ssi_product_line_price_mixin-14.0.1.3.0.dist-info/RECORD
+Filename: odoo14_addon_ssi_product_line_price_mixin-14.0.1.4.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/ssi_product_line_price_mixin/__manifest__.py

```diff
@@ -1,14 +1,14 @@
 # Copyright 2022 OpenSynergy Indonesia
 # Copyright 2022 PT. Simetri Sinergi Indonesia
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/lgpl).
 
 {
     "name": "Product Line Mixin - With Price",
-    "version": "14.0.1.3.0",
+    "version": "14.0.1.4.0",
     "website": "https://simetri-sinergi.id",
     "author": "OpenSynergy Indonesia, PT. Simetri Sinergi Indonesia",
     "license": "AGPL-3",
     "installable": True,
     "depends": [
         "ssi_product_line_mixin",
     ],
```

## odoo/addons/ssi_product_line_price_mixin/models/mixin_product_line_price.py

```diff
@@ -8,37 +8,20 @@
 class MixinProductLinePrice(models.AbstractModel):
     _name = "mixin.product_line_price"
     _description = "Product Line Mixin - With Price"
     _inherit = [
         "mixin.product_line",
     ]
 
-    @api.model
-    def _default_currency_id(self):
-        return self.env.company.currency_id.id
-
     currency_id = fields.Many2one(
         string="Currency",
         comodel_name="res.currency",
         required=True,
         default=lambda self: self._default_currency_id(),
     )
-
-    @api.depends(
-        "currency_id",
-    )
-    def _compute_allowed_pricelist_ids(self):
-        Pricelist = self.env["product.pricelist"]
-        for record in self:
-            result = []
-            if record.currency_id:
-                criteria = record._get_pricelist_domain()
-                result = Pricelist.search(criteria).ids
-            record.allowed_pricelist_ids = result
-
     allowed_pricelist_ids = fields.Many2many(
         string="Allowed Pricelists",
         comodel_name="product.pricelist",
         compute="_compute_allowed_pricelist_ids",
         compute_sudo=True,
     )
     pricelist_id = fields.Many2one(
@@ -47,29 +30,104 @@
     )
     price_unit = fields.Monetary(
         string="Price Unit",
         currency_field="currency_id",
         required=True,
         default=0.0,
     )
+    price_subtotal = fields.Monetary(
+        string="Price Subtotal",
+        currency_field="currency_id",
+        compute="_compute_price",
+        store=True,
+    )
+    standard_price_unit = fields.Monetary(
+        string="Standard Price Unit",
+        currency_field="currency_id",
+        compute="_compute_standard_price",
+        store=True,
+        compute_sudo=True,
+    )
+    standard_price_subtotal = fields.Monetary(
+        string="Standard Price Subtotal",
+        currency_field="currency_id",
+        compute="_compute_standard_price",
+        store=True,
+        compute_sudo=True,
+    )
+    standard_price_unit_diff = fields.Monetary(
+        string="Standard Price Unit Diff.",
+        currency_field="currency_id",
+        compute="_compute_standard_price",
+        store=True,
+        compute_sudo=True,
+    )
+    standard_price_subtotal_diff = fields.Monetary(
+        string="Standard Price Subtotal Diff.",
+        currency_field="currency_id",
+        compute="_compute_standard_price",
+        store=True,
+        compute_sudo=True,
+    )
+
+    @api.model
+    def _default_currency_id(self):
+        return self.env.company.currency_id.id
 
     @api.depends(
+        "product_id",
+        "pricelist_id",
         "price_unit",
         "uom_quantity",
+        "uom_id",
     )
-    def _compute_price(self):
+    def _compute_standard_price(self):
         for record in self:
-            record.price_subtotal = record.price_unit * record.uom_quantity
+            standard_price_unit = (
+                standard_price_subtotal
+            ) = standard_price_unit_diff = standard_price_subtotal_diff = 0.0
+            if record.pricelist_id and record.product_id:
+                product_context = dict(
+                    self.env.context, uom=record.uom_id and record.uom_id.id or False
+                )
+                final_price, rule_id = record.pricelist_id.with_context(
+                    product_context
+                ).get_product_price_rule(
+                    record.product_id, record.uom_quantity or 1.0, False
+                )
+                standard_price_unit = final_price
+                standard_price_subtotal = standard_price_unit * record.uom_quantity
+                standard_price_unit_diff = record.price_unit - standard_price_unit
+                standard_price_subtotal_diff = (
+                    record.price_subtotal - standard_price_subtotal
+                )
+            record.standard_price_unit = standard_price_unit
+            record.standard_price_subtotal = standard_price_subtotal
+            record.standard_price_unit_diff = standard_price_unit_diff
+            record.standard_price_subtotal_diff = standard_price_subtotal_diff
 
-    price_subtotal = fields.Monetary(
-        string="Price Subtotal",
-        currency_field="currency_id",
-        compute="_compute_price",
-        store=True,
+    @api.depends(
+        "currency_id",
     )
+    def _compute_allowed_pricelist_ids(self):
+        Pricelist = self.env["product.pricelist"]
+        for record in self:
+            result = []
+            if record.currency_id:
+                criteria = record._get_pricelist_domain()
+                result = Pricelist.search(criteria).ids
+            record.allowed_pricelist_ids = result
+
+    @api.depends(
+        "price_unit",
+        "uom_quantity",
+    )
+    def _compute_price(self):
+        for record in self:
+            record.price_subtotal = record.price_unit * record.uom_quantity
 
     @api.onchange(
         "allowed_pricelist_ids",
         "currency_id",
     )
     def onchange_pricelist_id(self):
         self.pricelist_id = False
```

## Comparing `odoo14_addon_ssi_product_line_price_mixin-14.0.1.3.0.dist-info/METADATA` & `odoo14_addon_ssi_product_line_price_mixin-14.0.1.4.0.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,22 +1,22 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-ssi-product-line-price-mixin
-Version: 14.0.1.3.0
+Version: 14.0.1.4.0
 Summary: Product Line Mixin - With Price
 Home-page: https://simetri-sinergi.id
 Author: OpenSynergy Indonesia, PT. Simetri Sinergi Indonesia
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
 Classifier: Framework :: Odoo :: 14.0
 Classifier: License :: OSI Approved :: GNU Affero General Public License v3
 Requires-Python: >=3.6
 Requires-Dist: odoo14-addon-ssi-product-line-mixin
-Requires-Dist: odoo (<14.1dev,>=14.0a)
+Requires-Dist: odoo <14.1dev,>=14.0a
 
 .. image:: https://img.shields.io/badge/licence-AGPL--3-blue.svg
    :target: http://www.gnu.org/licenses/lgpl-3.0-standalone.html
    :alt: License: AGPL-3
 
 ==================
 Product Line Mixin
```

## Comparing `odoo14_addon_ssi_product_line_price_mixin-14.0.1.3.0.dist-info/RECORD` & `odoo14_addon_ssi_product_line_price_mixin-14.0.1.4.0.dist-info/RECORD`

 * *Files 16% similar despite different names*

```diff
@@ -1,12 +1,12 @@
 odoo/addons/ssi_product_line_price_mixin/README.rst,sha256=Vh3iYofA8Da-h8-OEAX7_UV-mGgdUfcnwSiDF6glnTQ,1176
 odoo/addons/ssi_product_line_price_mixin/__init__.py,sha256=_euh7OtzMTDmyHY0E3tvYRWTi0ufnrMCH3IH8ZLtu0s,181
-odoo/addons/ssi_product_line_price_mixin/__manifest__.py,sha256=lNovE2FlHUDgFSi3fen0dFvr2z5swMEZ6pnkJ948R2w,547
+odoo/addons/ssi_product_line_price_mixin/__manifest__.py,sha256=SOmSM-HbeeFpLjyqbnuF_PY2pVx732VaUE9YIFh4h3c,547
 odoo/addons/ssi_product_line_price_mixin/menu.xml,sha256=cdfWWbkkYw3m6Jat5OVJK3TBpyPuPBVanGzOFH_HgF4,349
 odoo/addons/ssi_product_line_price_mixin/models/__init__.py,sha256=yoK06ZFl6Mm7jhMhPzDibdekJUa3nzekXdyo_Q62qho,199
-odoo/addons/ssi_product_line_price_mixin/models/mixin_product_line_price.py,sha256=6ZOMQjlGWCKouPiPDI5WR0ZawSSL19DPBIju2ZxW23I,2880
+odoo/addons/ssi_product_line_price_mixin/models/mixin_product_line_price.py,sha256=99FR42gtV4QTDcAVzMJASCt6KaaJY1MylNaEuyBJlno,5208
 odoo/addons/ssi_product_line_price_mixin/static/description/icon.png,sha256=lNGJOSg4cMRfwPTfFKVT6d5B2N1N83iVpEEN1blqu1I,48333
 odoo/addons/ssi_product_line_price_mixin/views/mixin_product_line_mixin_views.xml,sha256=fh5GZwuJ4-RXCV0iFrj5QI0ML3r0MlejTWyNmrkUR2E,3678
-odoo14_addon_ssi_product_line_price_mixin-14.0.1.3.0.dist-info/METADATA,sha256=YcIbhbMCY4SFtoZ4CL3s3mZw1tr-NjKGYkiuxWgxAFU,1743
-odoo14_addon_ssi_product_line_price_mixin-14.0.1.3.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-odoo14_addon_ssi_product_line_price_mixin-14.0.1.3.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_ssi_product_line_price_mixin-14.0.1.3.0.dist-info/RECORD,,
+odoo14_addon_ssi_product_line_price_mixin-14.0.1.4.0.dist-info/METADATA,sha256=XHzX1hVHaJuBCYoxlQfYrbuS6EiCFN_qW0X4M0-8nZE,1741
+odoo14_addon_ssi_product_line_price_mixin-14.0.1.4.0.dist-info/WHEEL,sha256=oiQVh_5PnQM0E3gPdiz09WCNmwiHDMaGer_elqB3coM,92
+odoo14_addon_ssi_product_line_price_mixin-14.0.1.4.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_ssi_product_line_price_mixin-14.0.1.4.0.dist-info/RECORD,,
```

